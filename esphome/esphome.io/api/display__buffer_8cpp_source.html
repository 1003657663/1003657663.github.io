<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from esphome.io/api/display__buffer_8cpp_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 May 2021 03:31:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESPHome: /opt/build/esphome/esphome/components/display/display_buffer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ESPHome
   &#160;<span id="projectnumber">1.17.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.html','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1c53ae2f66a072b0105e6aabe45a2cce.html">esphome</a></li><li class="navelem"><a class="el" href="dir_d5fda97fd900cb1d29b5c0bf3599a512.html">esphome</a></li><li class="navelem"><a class="el" href="dir_f010ab7dfb5a2ee0b1acb5e86ab2fac7.html">components</a></li><li class="navelem"><a class="el" href="dir_d6bc3f69cba9fe23db4bdf7d5d221594.html">display</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">display_buffer.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="display__buffer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="display__buffer_8h.html">display_buffer.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">esphome/core/color.h</a>&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">esphome/core/log.h</a>&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="application_8h.html">esphome/core/application.h</a>&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceesphome.html">esphome</a> {</div><div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="namespaceesphome_1_1display.html">    7</a></span>&#160;<span class="keyword">namespace </span>display {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *TAG = <span class="stringliteral">&quot;display&quot;</span>;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">const</span> <a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="namespaceesphome_1_1display.html#aedbf59f83bcc6406b9ada6627e20047d">COLOR_OFF</a>(0, 0, 0, 0);</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">const</span> <a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="namespaceesphome_1_1display.html#a3b143fc3400e1ce58ebccb2920285157">COLOR_ON</a>(255, 255, 255, 255);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a727a28ac513e1557dd386f2f6f173b07">   14</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a727a28ac513e1557dd386f2f6f173b07">DisplayBuffer::init_internal_</a>(uint32_t buffer_length) {</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa743e093ab75a798a3057b48eedb8b1f">buffer_</a> = <span class="keyword">new</span> uint8_t[buffer_length];</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa743e093ab75a798a3057b48eedb8b1f">buffer_</a> == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    ESP_LOGE(TAG, <span class="stringliteral">&quot;Could not allocate buffer for display!&quot;</span>);</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a3f3d2f820a9b740d426e4146ad770d79">clear</a>();</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#aa6d3bcb7d1596276789f6c5214994923">   22</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa6d3bcb7d1596276789f6c5214994923">DisplayBuffer::fill</a>(<a class="code" href="structesphome_1_1_color.html">Color</a> color) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a836f31c9962c4fc0b71c792796fe36c9">filled_rectangle</a>(0, 0, this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a57b48b5c80a964dcf34e9571ae08a3b3">get_width</a>(), this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#abe182b0133f9c814574dc8561ef951e0">get_height</a>(), color); }</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a3f3d2f820a9b740d426e4146ad770d79">   23</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a3f3d2f820a9b740d426e4146ad770d79">DisplayBuffer::clear</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa6d3bcb7d1596276789f6c5214994923">fill</a>(COLOR_OFF); }</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a57b48b5c80a964dcf34e9571ae08a3b3">   24</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a57b48b5c80a964dcf34e9571ae08a3b3">DisplayBuffer::get_width</a>() {</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a0742a6dfbb6bd2d988bc36093d19ee99">rotation_</a>) {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a84e94054a890dd2b2a4ba696e437258e">DISPLAY_ROTATION_90_DEGREES</a>:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a46e1aada5195e2fcbaa646944859e0b1">DISPLAY_ROTATION_270_DEGREES</a>:</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#acba8cc2833aed476e8d652ab05608525">get_height_internal</a>();</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a145806cba5464bb6e0a06d0c958cc8c3">DISPLAY_ROTATION_0_DEGREES</a>:</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a7de1175ebf0b27f45eac79cbff967c13">DISPLAY_ROTATION_180_DEGREES</a>:</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa357fda91c3161ab1a0273f2c05068c3">get_width_internal</a>();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  }</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#abe182b0133f9c814574dc8561ef951e0">   35</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#abe182b0133f9c814574dc8561ef951e0">DisplayBuffer::get_height</a>() {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a0742a6dfbb6bd2d988bc36093d19ee99">rotation_</a>) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a145806cba5464bb6e0a06d0c958cc8c3">DISPLAY_ROTATION_0_DEGREES</a>:</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a7de1175ebf0b27f45eac79cbff967c13">DISPLAY_ROTATION_180_DEGREES</a>:</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#acba8cc2833aed476e8d652ab05608525">get_height_internal</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a84e94054a890dd2b2a4ba696e437258e">DISPLAY_ROTATION_90_DEGREES</a>:</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a46e1aada5195e2fcbaa646944859e0b1">DISPLAY_ROTATION_270_DEGREES</a>:</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa357fda91c3161ab1a0273f2c05068c3">get_width_internal</a>();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  }</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#afc1aa4eb43d58e48139537ed32e3e41f">   46</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#afc1aa4eb43d58e48139537ed32e3e41f">DisplayBuffer::set_rotation</a>(<a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553">DisplayRotation</a> rotation) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a0742a6dfbb6bd2d988bc36093d19ee99">rotation_</a> = rotation; }</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">   47</a></span>&#160;<span class="keywordtype">void</span> HOT <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">DisplayBuffer::draw_pixel_at</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a0742a6dfbb6bd2d988bc36093d19ee99">rotation_</a>) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a145806cba5464bb6e0a06d0c958cc8c3">DISPLAY_ROTATION_0_DEGREES</a>:</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a84e94054a890dd2b2a4ba696e437258e">DISPLAY_ROTATION_90_DEGREES</a>:</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <a class="code" href="namespaceesphome.html#aa3e9d12c63f12043dfd3b2ed5acc85e0">std::swap</a>(x, y);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      x = this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa357fda91c3161ab1a0273f2c05068c3">get_width_internal</a>() - x - 1;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a7de1175ebf0b27f45eac79cbff967c13">DISPLAY_ROTATION_180_DEGREES</a>:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      x = this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa357fda91c3161ab1a0273f2c05068c3">get_width_internal</a>() - x - 1;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      y = this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#acba8cc2833aed476e8d652ab05608525">get_height_internal</a>() - y - 1;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a46e1aada5195e2fcbaa646944859e0b1">DISPLAY_ROTATION_270_DEGREES</a>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <a class="code" href="namespaceesphome.html#aa3e9d12c63f12043dfd3b2ed5acc85e0">std::swap</a>(x, y);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      y = this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#acba8cc2833aed476e8d652ab05608525">get_height_internal</a>() - y - 1;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a881a1242a5c0be6cf9e28c148e6526f2">draw_absolute_pixel_internal</a>(x, y, color);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <a class="code" href="namespaceesphome.html#ad8d15dcec8541489df89d98889569511">App</a>.<a class="code" href="classesphome_1_1_application.html#a7c47b0a327287c681724b2802bd80878">feed_wdt</a>();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a9e75ead75fe2d8f4153eca41019ebe86">   67</a></span>&#160;<span class="keywordtype">void</span> HOT <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a9e75ead75fe2d8f4153eca41019ebe86">DisplayBuffer::line</a>(<span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> x2, <span class="keywordtype">int</span> y2, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">const</span> int32_t dx = abs(x2 - x1), sx = x1 &lt; x2 ? 1 : -1;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keyword">const</span> int32_t dy = -abs(y2 - y1), sy = y1 &lt; y2 ? 1 : -1;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  int32_t err = dx + dy;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(x1, y1, color);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (x1 == x2 &amp;&amp; y1 == y2)</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    int32_t e2 = 2 * err;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> (e2 &gt;= dy) {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      err += dy;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      x1 += sx;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span> (e2 &lt;= dx) {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      err += dx;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      y1 += sy;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">   87</a></span>&#160;<span class="keywordtype">void</span> HOT <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">DisplayBuffer::horizontal_line</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> width, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">// Future: Could be made more efficient by manipulating buffer directly in certain rotations.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = x; i &lt; x + width; i++)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(i, y, color);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#aa5ef907fb82edb1d785691b38e3c82e6">   92</a></span>&#160;<span class="keywordtype">void</span> HOT <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa5ef907fb82edb1d785691b38e3c82e6">DisplayBuffer::vertical_line</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> height, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// Future: Could be made more efficient by manipulating buffer directly in certain rotations.</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = y; i &lt; y + height; i++)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(x, i, color);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a710d343524c266eff9278b382400377a">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a710d343524c266eff9278b382400377a">DisplayBuffer::rectangle</a>(<span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">horizontal_line</a>(x1, y1, width, color);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">horizontal_line</a>(x1, y1 + height - 1, width, color);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa5ef907fb82edb1d785691b38e3c82e6">vertical_line</a>(x1, y1, height, color);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa5ef907fb82edb1d785691b38e3c82e6">vertical_line</a>(x1 + width - 1, y1, height, color);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a836f31c9962c4fc0b71c792796fe36c9">  103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a836f31c9962c4fc0b71c792796fe36c9">DisplayBuffer::filled_rectangle</a>(<span class="keywordtype">int</span> x1, <span class="keywordtype">int</span> y1, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// Future: Use vertical_line and horizontal_line methods depending on rotation to reduce memory accesses.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = y1; i &lt; y1 + height; i++) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">horizontal_line</a>(x1, i, width, color);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a164c294fb84b0029b4b34365287f5437">  109</a></span>&#160;<span class="keywordtype">void</span> HOT <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a164c294fb84b0029b4b34365287f5437">DisplayBuffer::circle</a>(<span class="keywordtype">int</span> center_x, <span class="keywordtype">int</span> center_xy, <span class="keywordtype">int</span> radius, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">int</span> dx = -radius;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordtype">int</span> dy = 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">int</span> err = 2 - 2 * radius;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">int</span> e2;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x - dx, center_xy + dy, color);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x + dx, center_xy + dy, color);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x + dx, center_xy - dy, color);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x - dx, center_xy - dy, color);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    e2 = err;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (e2 &lt; dy) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      err += ++dy * 2 + 1;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">if</span> (-dx == dy &amp;&amp; e2 &lt;= dx) {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        e2 = 0;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      }</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (e2 &gt; dx) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      err += ++dx * 2 + 1;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  } <span class="keywordflow">while</span> (dx &lt;= 0);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a8a4c77d705f1e487ee919e600706b186">  132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8a4c77d705f1e487ee919e600706b186">DisplayBuffer::filled_circle</a>(<span class="keywordtype">int</span> center_x, <span class="keywordtype">int</span> center_y, <span class="keywordtype">int</span> radius, <a class="code" href="structesphome_1_1_color.html">Color</a> color) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordtype">int</span> dx = -int32_t(radius);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordtype">int</span> dy = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordtype">int</span> err = 2 - 2 * radius;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> e2;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x - dx, center_y + dy, color);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x + dx, center_y + dy, color);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x + dx, center_y - dy, color);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(center_x - dx, center_y - dy, color);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">int</span> hline_width = 2 * (-dx) + 1;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">horizontal_line</a>(center_x + dx, center_y + dy, hline_width, color);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">horizontal_line</a>(center_x + dx, center_y - dy, hline_width, color);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    e2 = err;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (e2 &lt; dy) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      err += ++dy * 2 + 1;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">if</span> (-dx == dy &amp;&amp; e2 &lt;= dx) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        e2 = 0;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (e2 &gt; dx) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      err += ++dx * 2 + 1;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  } <span class="keywordflow">while</span> (dx &lt;= 0);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">  159</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">DisplayBuffer::print</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">int</span> x_start, y_start;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">int</span> width, height;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#ad1b8647d831d9d69bd69ad0272bd0e8d">get_text_bounds</a>(x, y, text, font, align, &amp;x_start, &amp;y_start, &amp;width, &amp;height);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">int</span> x_at = x_start;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">while</span> (text[i] != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">int</span> match_length;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordtype">int</span> glyph_n = font-&gt;<a class="code" href="classesphome_1_1display_1_1_font.html#a8bd913baf64802574bff53c23ef4cc75">match_next_glyph</a>(text + i, &amp;match_length);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">if</span> (glyph_n &lt; 0) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="comment">// Unknown char, skip</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      ESP_LOGW(TAG, <span class="stringliteral">&quot;Encountered character without representation in font: &#39;%c&#39;&quot;</span>, text[i]);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">if</span> (!font-&gt;<a class="code" href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">get_glyphs</a>().empty()) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        uint8_t glyph_width = font-&gt;<a class="code" href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">get_glyphs</a>()[0].width_;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> glyph_x = 0; glyph_x &lt; glyph_width; glyph_x++)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> glyph_y = 0; glyph_y &lt; height; glyph_y++)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(glyph_x + x_at, glyph_y + y_start, color);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        x_at += glyph_width;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      i++;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">const</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html">Glyph</a> &amp;glyph = font-&gt;<a class="code" href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">get_glyphs</a>()[glyph_n];</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> scan_x1, scan_y1, scan_width, scan_height;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#a8693606d5e74f1872f48e7481da2b268">scan_area</a>(&amp;scan_x1, &amp;scan_y1, &amp;scan_width, &amp;scan_height);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> glyph_x = scan_x1; glyph_x &lt; scan_x1 + scan_width; glyph_x++) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> glyph_y = scan_y1; glyph_y &lt; scan_y1 + scan_height; glyph_y++) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#a4bab69ab7d713f464fd3309a0c3fd8a5">get_pixel</a>(glyph_x, glyph_y)) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(glyph_x + x_at, glyph_y + y_start, color);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    x_at += glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">width_</a> + glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    i += match_length;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">  201</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">DisplayBuffer::vprintf_</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list arg) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">char</span> buffer[256];</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordtype">int</span> ret = vsnprintf(buffer, <span class="keyword">sizeof</span>(buffer), format, arg);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (ret &gt; 0)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">print</a>(x, y, font, color, align, buffer);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#ad277d7ce9fd0790db1d5558b89517300">  208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#ad277d7ce9fd0790db1d5558b89517300">DisplayBuffer::image</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_image.html">Image</a> *<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#ad277d7ce9fd0790db1d5558b89517300">image</a>, <a class="code" href="structesphome_1_1_color.html">Color</a> color_on, <a class="code" href="structesphome_1_1_color.html">Color</a> color_off) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">switch</span> (image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a8914f316dff9c1f4caf6a167494b46fb">get_type</a>()) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cda8174b3a39af11e7145129f60d5e98b28">IMAGE_TYPE_BINARY</a>:</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_x = 0; img_x &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">get_width</a>(); img_x++) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_y = 0; img_y &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">get_height</a>(); img_y++) {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(x + img_x, y + img_y, image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a9ed3905cb6dff8d66223642de4103cf9">get_pixel</a>(img_x, img_y) ? color_on : color_off);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cda6839716d830a99d48b4e77e593279ac6">IMAGE_TYPE_GRAYSCALE</a>:</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_x = 0; img_x &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">get_width</a>(); img_x++) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_y = 0; img_y &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">get_height</a>(); img_y++) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(x + img_x, y + img_y, image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#ad1244e448876376ec67bf7f24e6322dd">get_grayscale_pixel</a>(img_x, img_y));</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cdaedd6217ff4c9bcf9353549bbfccfe386">IMAGE_TYPE_RGB24</a>:</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_x = 0; img_x &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">get_width</a>(); img_x++) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> img_y = 0; img_y &lt; image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">get_height</a>(); img_y++) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">draw_pixel_at</a>(x + img_x, y + img_y, image-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a28425a4bb1bfa655aef230d60f4ddb2b">get_color_pixel</a>(img_x, img_y));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#ad1b8647d831d9d69bd69ad0272bd0e8d">  234</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#ad1b8647d831d9d69bd69ad0272bd0e8d">DisplayBuffer::get_text_bounds</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keyword">const</span> <span class="keywordtype">char</span> *text, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keywordtype">int</span> *x1, <span class="keywordtype">int</span> *y1,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                    <span class="keywordtype">int</span> *width, <span class="keywordtype">int</span> *height) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordtype">int</span> x_offset, baseline;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  font-&gt;<a class="code" href="classesphome_1_1display_1_1_font.html#a62e0ccc582b62d2caf887975eee3b5f7">measure</a>(text, width, &amp;x_offset, &amp;baseline, height);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keyword">auto</span> x_align = <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a>(<span class="keywordtype">int</span>(align) &amp; 0x18);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keyword">auto</span> y_align = <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a>(<span class="keywordtype">int</span>(align) &amp; 0x07);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">switch</span> (x_align) {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa21507b40c80068eda19865706fdc2403">TextAlign::RIGHT</a>:</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      *x1 = x - *width;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa8e0df4c9801cd8a497c6763895aeb1ab">TextAlign::CENTER_HORIZONTAL</a>:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      *x1 = x - (*width) / 2;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa684d325a7303f52e64011467ff5c5758">TextAlign::LEFT</a>:</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">// LEFT</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      *x1 = x;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">switch</span> (y_align) {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa1fabf63de5c96c78e2a40805bcdeb73b">TextAlign::BOTTOM</a>:</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      *y1 = y - *height;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa385881ed58577143e69edf478122d179">TextAlign::BASELINE</a>:</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      *y1 = y - baseline;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa2cc924691e026a785a32f6843aeb8fba">TextAlign::CENTER_VERTICAL</a>:</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      *y1 = y - (*height) / 2;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa6705777b712ee811e76fb07162081d63">TextAlign::TOP</a>:</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      *y1 = y;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a6f1a3a52c298de0de59004abad28db43">  272</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">DisplayBuffer::print</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">print</a>(x, y, font, color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, text);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;}</div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#afb722a68ae0ed67f09e93a218959ca9f">  275</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">DisplayBuffer::print</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">print</a>(x, y, font, COLOR_ON, align, text);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#ad4bdb05768879db0eb5c93c980ef3c54">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">DisplayBuffer::print</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">print</a>(x, y, font, COLOR_ON, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, text);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">  281</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">DisplayBuffer::printf</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  va_list arg;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  va_start(arg, format);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">vprintf_</a>(x, y, font, color, align, format, arg);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  va_end(arg);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a90fd9eaadffefed0c7bde7b2dc479e5c">  287</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">DisplayBuffer::printf</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  va_list arg;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  va_start(arg, format);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">vprintf_</a>(x, y, font, color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, format, arg);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  va_end(arg);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#ac1ec74d64dea2e6afe35493a51f9f63a">  293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">DisplayBuffer::printf</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  va_list arg;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  va_start(arg, format);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">vprintf_</a>(x, y, font, COLOR_ON, align, format, arg);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  va_end(arg);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a1383e2c53595edfe6c258730785abbc8">  299</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">DisplayBuffer::printf</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  va_list arg;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  va_start(arg, format);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">vprintf_</a>(x, y, font, COLOR_ON, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, format, arg);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  va_end(arg);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a1737b2e243a4f4d88a8968601b2bd5f7">  305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a1737b2e243a4f4d88a8968601b2bd5f7">DisplayBuffer::set_writer</a>(<a class="code" href="namespaceesphome_1_1display.html#ae0418d7d04b443b30f479f2483d49835">display_writer_t</a> &amp;&amp;writer) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a43fd94c00045929becb9abc262fec555">writer_</a> = writer; }</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#aa9a4d7fdcfc6796d5e74eb70dc10b5f2">  306</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#aa9a4d7fdcfc6796d5e74eb70dc10b5f2">DisplayBuffer::set_pages</a>(std::vector&lt;DisplayPage *&gt; pages) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *page : pages)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    page-&gt;set_parent(<span class="keyword">this</span>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; pages.size() - 1; i++) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    pages[i]-&gt;set_next(pages[i + 1]);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    pages[i + 1]-&gt;set_prev(pages[i]);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  pages[0]-&gt;set_prev(pages[pages.size() - 1]);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  pages[pages.size() - 1]-&gt;set_next(pages[0]);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4cfbe97a77988140a91809ed721079e0">show_page</a>(pages[0]);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a4cfbe97a77988140a91809ed721079e0">  318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4cfbe97a77988140a91809ed721079e0">DisplayBuffer::show_page</a>(<a class="code" href="classesphome_1_1display_1_1_display_page.html">DisplayPage</a> *page) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">page_</a> = page; }</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a422694b33293b72cc51f8aa7dda10486">  319</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a422694b33293b72cc51f8aa7dda10486">DisplayBuffer::show_next_page</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">page_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#aef0241c7c56b18c5669e223ed59f421b">show_next</a>(); }</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a115b11cf778bf6257054ad55998907b7">  320</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a115b11cf778bf6257054ad55998907b7">DisplayBuffer::show_prev_page</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">page_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a7c5bfc285d7479f07ef8b8ec2ea24ef2">show_prev</a>(); }</div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#abda8d39c97a98330350bd5191b40c723">  321</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#abda8d39c97a98330350bd5191b40c723">DisplayBuffer::do_update_</a>() {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a3f3d2f820a9b740d426e4146ad770d79">clear</a>();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">page_</a> != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">page_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a47085eab824060c200d82e484b43dff0">get_writer</a>()(*this);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a43fd94c00045929becb9abc262fec555">writer_</a>.<a class="code" href="classesphome_1_1optional.html#a02ec23556961ba596fbaa57885fb6a68">has_value</a>()) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    (*this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a43fd94c00045929becb9abc262fec555">writer_</a>)(*<span class="keyword">this</span>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#ifdef USE_TIME</span></div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">  330</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">DisplayBuffer::strftime</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *format,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                             <a class="code" href="structesphome_1_1time_1_1_e_s_p_time.html">time::ESPTime</a> time) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordtype">char</span> buffer[64];</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordtype">size_t</span> ret = time.<a class="code" href="structesphome_1_1time_1_1_e_s_p_time.html#a5f9563b1d4901166f7d6b7fca24b9fad">strftime</a>(buffer, <span class="keyword">sizeof</span>(buffer), format);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="keywordflow">if</span> (ret &gt; 0)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">print</a>(x, y, font, color, align, buffer);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#a1cb6a9cabfb1e5ace91370da04c2c189">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">DisplayBuffer::strftime</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="structesphome_1_1_color.html">Color</a> color, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <a class="code" href="structesphome_1_1time_1_1_e_s_p_time.html">time::ESPTime</a> time) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">strftime</a>(x, y, font, color, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, format, time);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#af9fefb78b3af8da7e5edd7b1b8dfe38a">  340</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">DisplayBuffer::strftime</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">TextAlign</a> align, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <a class="code" href="structesphome_1_1time_1_1_e_s_p_time.html">time::ESPTime</a> time) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">strftime</a>(x, y, font, COLOR_ON, align, format, time);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_buffer.html#ac6d1c722d63fd0501cc80596ed834415">  343</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">DisplayBuffer::strftime</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="classesphome_1_1display_1_1_font.html">Font</a> *font, <span class="keyword">const</span> <span class="keywordtype">char</span> *format, <a class="code" href="structesphome_1_1time_1_1_e_s_p_time.html">time::ESPTime</a> time) {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">strftime</a>(x, y, font, COLOR_ON, <a class="code" href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">TextAlign::TOP_LEFT</a>, format, time);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#ad5496163249030e9993e9b1cc3bdcb84">  348</a></span>&#160;<a class="code" href="classesphome_1_1display_1_1_glyph.html#ad5496163249030e9993e9b1cc3bdcb84">Glyph::Glyph</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *a_char, <span class="keyword">const</span> uint8_t *data_start, uint32_t offset, <span class="keywordtype">int</span> offset_x, <span class="keywordtype">int</span> offset_y, <span class="keywordtype">int</span> width,</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;             <span class="keywordtype">int</span> height)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    : char_(a_char),</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      data_(data_start + offset),</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      offset_x_(offset_x),</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      offset_y_(offset_y),</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      width_(width),</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      height_(height) {}</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#a4bab69ab7d713f464fd3309a0c3fd8a5">  356</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html#a4bab69ab7d713f464fd3309a0c3fd8a5">Glyph::get_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> x_data = x - this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> y_data = y - this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a464fdfe9cf87af530e1ff27b4e4befd5">offset_y_</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">if</span> (x_data &lt; 0 || x_data &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">width_</a> || y_data &lt; 0 || y_data &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a8b0f9af57a39ef046833844fe7eb4d0e">height_</a>)</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keyword">const</span> uint32_t width_8 = ((this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">width_</a> + 7u) / 8u) * 8u;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keyword">const</span> uint32_t pos = x_data + y_data * width_8;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">return</span> pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#af75492a84b55ab6e29d7d873b04d4355">data_</a> + (pos / 8u)) &amp; (0x80 &gt;&gt; (pos % 8u));</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#a18d7afeb91a82e686519e6c767a91e27">  365</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classesphome_1_1display_1_1_glyph.html#a18d7afeb91a82e686519e6c767a91e27">Glyph::get_char</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>; }</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#ab24771f8d105b683a0f63e1760a532f8">  366</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html#ab24771f8d105b683a0f63e1760a532f8">Glyph::compare_to</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)<span class="keyword"> const </span>{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// 1 -&gt; this-&gt;char_</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// 2 -&gt; str</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0;; i++) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>[i] == <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (str[i] == <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>[i] &gt; str[i])</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>[i] &lt; str[i])</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// this should not happen</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">  382</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">Glyph::match_length</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str)<span class="keyword"> const </span>{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">for</span> (uint32_t i = 0;; i++) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>[i] == <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (str[i] != this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">char_</a>[i])</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// this should not happen</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_glyph.html#a8693606d5e74f1872f48e7481da2b268">  392</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html#a8693606d5e74f1872f48e7481da2b268">Glyph::scan_area</a>(<span class="keywordtype">int</span> *x1, <span class="keywordtype">int</span> *y1, <span class="keywordtype">int</span> *width, <span class="keywordtype">int</span> *height)<span class="keyword"> const </span>{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  *x1 = this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  *y1 = this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a464fdfe9cf87af530e1ff27b4e4befd5">offset_y_</a>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  *width = this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">width_</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  *height = this-&gt;<a class="code" href="classesphome_1_1display_1_1_glyph.html#a8b0f9af57a39ef046833844fe7eb4d0e">height_</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_font.html#a8bd913baf64802574bff53c23ef4cc75">  398</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_font.html#a8bd913baf64802574bff53c23ef4cc75">Font::match_next_glyph</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">int</span> *<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">match_length</a>) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordtype">int</span> lo = 0;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordtype">int</span> hi = this-&gt;glyphs_.size() - 1;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">while</span> (lo != hi) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span> mid = (lo + hi + 1) / 2;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (this-&gt;glyphs_[mid].<a class="code" href="classesphome_1_1display_1_1_glyph.html#ab24771f8d105b683a0f63e1760a532f8">compare_to</a>(str))</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      lo = mid;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      hi = mid - 1;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  *match_length = this-&gt;glyphs_[lo].match_length(str);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> (*match_length &lt;= 0)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> lo;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_font.html#a62e0ccc582b62d2caf887975eee3b5f7">  413</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_font.html#a62e0ccc582b62d2caf887975eee3b5f7">Font::measure</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str, <span class="keywordtype">int</span> *width, <span class="keywordtype">int</span> *x_offset, <span class="keywordtype">int</span> *baseline, <span class="keywordtype">int</span> *height) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  *baseline = this-&gt;baseline_;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  *height = this-&gt;bottom_;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordtype">int</span> min_x = 0;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordtype">bool</span> has_char = <span class="keyword">false</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordtype">int</span> x = 0;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">while</span> (str[i] != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">match_length</a>;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordtype">int</span> glyph_n = this-&gt;match_next_glyph(str + i, &amp;match_length);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (glyph_n &lt; 0) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="comment">// Unknown char, skip</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">if</span> (!this-&gt;get_glyphs().empty())</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        x += this-&gt;get_glyphs()[0].width_;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      i++;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keyword">const</span> <a class="code" href="classesphome_1_1display_1_1_glyph.html">Glyph</a> &amp;glyph = this-&gt;glyphs_[glyph_n];</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (!has_char)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      min_x = glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      min_x = std::min(min_x, x + glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    x += glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">width_</a> + glyph.<a class="code" href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">offset_x_</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    i += <a class="code" href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">match_length</a>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    has_char = <span class="keyword">true</span>;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  *x_offset = min_x;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  *width = x - min_x;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">  444</a></span>&#160;<span class="keyword">const</span> std::vector&lt;Glyph&gt; &amp;<a class="code" href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">Font::get_glyphs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;glyphs_; }</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_font.html#af63673aee6f1c52b606f8f3672e8eecb">  445</a></span>&#160;<a class="code" href="classesphome_1_1display_1_1_font.html#af63673aee6f1c52b606f8f3672e8eecb">Font::Font</a>(std::vector&lt;Glyph&gt; &amp;&amp;glyphs, <span class="keywordtype">int</span> baseline, <span class="keywordtype">int</span> bottom)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    : glyphs_(<a class="code" href="namespacestd.html">std</a>::move(glyphs)), baseline_(baseline), bottom_(bottom) {}</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#a9ed3905cb6dff8d66223642de4103cf9">  448</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classesphome_1_1display_1_1_image.html#a9ed3905cb6dff8d66223642de4103cf9">Image::get_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;width_ || y &lt; 0 || y &gt;= this-&gt;height_)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keyword">const</span> uint32_t width_8 = ((this-&gt;width_ + 7u) / 8u) * 8u;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keyword">const</span> uint32_t pos = x + y * width_8;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">return</span> pgm_read_byte(this-&gt;data_start_ + (pos / 8u)) &amp; (0x80 &gt;&gt; (pos % 8u));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#a28425a4bb1bfa655aef230d60f4ddb2b">  455</a></span>&#160;<a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="classesphome_1_1display_1_1_image.html#a28425a4bb1bfa655aef230d60f4ddb2b">Image::get_color_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;width_ || y &lt; 0 || y &gt;= this-&gt;height_)</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keyword">const</span> uint32_t pos = (x + y * this-&gt;width_) * 3;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keyword">const</span> uint32_t color32 = (pgm_read_byte(this-&gt;data_start_ + pos + 2) &lt;&lt; 0) |</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                           (pgm_read_byte(this-&gt;data_start_ + pos + 1) &lt;&lt; 8) |</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                           (pgm_read_byte(this-&gt;data_start_ + pos + 0) &lt;&lt; 16);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structesphome_1_1_color.html">Color</a>(color32);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;}</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#ad1244e448876376ec67bf7f24e6322dd">  464</a></span>&#160;<a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="classesphome_1_1display_1_1_image.html#ad1244e448876376ec67bf7f24e6322dd">Image::get_grayscale_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;width_ || y &lt; 0 || y &gt;= this-&gt;height_)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keyword">const</span> uint32_t pos = (x + y * this-&gt;width_);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">const</span> uint8_t gray = pgm_read_byte(this-&gt;data_start_ + pos);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structesphome_1_1_color.html">Color</a>(gray | gray &lt;&lt; 8 | gray &lt;&lt; 16 | gray &lt;&lt; 24);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">  471</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">Image::get_width</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;width_; }</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">  472</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">Image::get_height</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;height_; }</div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#a8914f316dff9c1f4caf6a167494b46fb">  473</a></span>&#160;<a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cd">ImageType</a> <a class="code" href="classesphome_1_1display_1_1_image.html#a8914f316dff9c1f4caf6a167494b46fb">Image::get_type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;type_; }</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_image.html#a996a385c78da07833fb19191aaa7a880">  474</a></span>&#160;<a class="code" href="classesphome_1_1display_1_1_image.html#a996a385c78da07833fb19191aaa7a880">Image::Image</a>(<span class="keyword">const</span> uint8_t *data_start, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cd">ImageType</a> <a class="code" href="e131__packet_8cpp.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    : width_(width), height_(height), type_(type), data_start_(data_start) {}</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#a158bdf3ba57ec62378f44c7a2cc696e3">  477</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classesphome_1_1display_1_1_animation.html#a158bdf3ba57ec62378f44c7a2cc696e3">Animation::get_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> || y &lt; 0 || y &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a>)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">const</span> uint32_t width_8 = ((this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> + 7u) / 8u) * 8u;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">const</span> uint32_t frame_index = this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * width_8 * this-&gt;current_frame_;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (frame_index &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * this-&gt;animation_frame_count_)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keyword">const</span> uint32_t pos = x + y * width_8 + frame_index;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">data_start_</a> + (pos / 8u)) &amp; (0x80 &gt;&gt; (pos % 8u));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#a6c564316c873b6a43d91b80bb42de051">  487</a></span>&#160;<a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="classesphome_1_1display_1_1_animation.html#a6c564316c873b6a43d91b80bb42de051">Animation::get_color_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> || y &lt; 0 || y &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a>)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">const</span> uint32_t frame_index = this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * this-&gt;current_frame_;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (frame_index &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * this-&gt;animation_frame_count_)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keyword">const</span> uint32_t pos = (x + y * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> + frame_index) * 3;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keyword">const</span> uint32_t color32 = (pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">data_start_</a> + pos + 2) &lt;&lt; 0) |</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                           (pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">data_start_</a> + pos + 1) &lt;&lt; 8) |</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                           (pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">data_start_</a> + pos + 0) &lt;&lt; 16);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structesphome_1_1_color.html">Color</a>(color32);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#adb6cc40e475f05501b7df1478b728548">  499</a></span>&#160;<a class="code" href="structesphome_1_1_color.html">Color</a> <a class="code" href="classesphome_1_1display_1_1_animation.html#adb6cc40e475f05501b7df1478b728548">Animation::get_grayscale_pixel</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)<span class="keyword"> const </span>{</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> || y &lt; 0 || y &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a>)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keyword">const</span> uint32_t frame_index = this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * this-&gt;current_frame_;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordflow">if</span> (frame_index &gt;= this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">height_</a> * this-&gt;animation_frame_count_)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keyword">const</span> uint32_t pos = (x + y * this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">width_</a> + frame_index);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keyword">const</span> uint8_t gray = pgm_read_byte(this-&gt;<a class="code" href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">data_start_</a> + pos);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structesphome_1_1_color.html">Color</a>(gray | gray &lt;&lt; 8 | gray &lt;&lt; 16 | gray &lt;&lt; 24);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#afd482d55d762416d64dbf46e71214398">  509</a></span>&#160;<a class="code" href="classesphome_1_1display_1_1_animation.html#afd482d55d762416d64dbf46e71214398">Animation::Animation</a>(<span class="keyword">const</span> uint8_t *data_start, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, uint32_t animation_frame_count, <a class="code" href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cd">ImageType</a> <a class="code" href="e131__packet_8cpp.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    : <a class="code" href="classesphome_1_1display_1_1_image.html">Image</a>(data_start, width, height, type), animation_frame_count_(animation_frame_count) {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">current_frame_</a> = 0;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#ad0f68e69526c4486dcf9f8a4e8094d90">  513</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_animation.html#ad0f68e69526c4486dcf9f8a4e8094d90">Animation::get_animation_frame_count</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_animation.html#aafaddce23d2ffd82d2ca04ab40362f80">animation_frame_count_</a>; }</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#a076425c4206ebd4e68a807273041dbf9">  514</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classesphome_1_1display_1_1_animation.html#a076425c4206ebd4e68a807273041dbf9">Animation::get_current_frame</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">current_frame_</a>; }</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_animation.html#a7925fbeab12f8c37486b6e93e5e655d1">  515</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_animation.html#a7925fbeab12f8c37486b6e93e5e655d1">Animation::next_frame</a>() {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  this-&gt;<a class="code" href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">current_frame_</a>++;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">current_frame_</a> &gt;= <a class="code" href="classesphome_1_1display_1_1_animation.html#aafaddce23d2ffd82d2ca04ab40362f80">animation_frame_count_</a>) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    this-&gt;<a class="code" href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">current_frame_</a> = 0;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#a6f0476fdcdf2b0880cce060604fcdf73">  522</a></span>&#160;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a6f0476fdcdf2b0880cce060604fcdf73">DisplayPage::DisplayPage</a>(<span class="keyword">const</span> <a class="code" href="namespaceesphome_1_1display.html#ae0418d7d04b443b30f479f2483d49835">display_writer_t</a> &amp;writer) : writer_(writer) {}</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#a9df67f0832b156ac868a5dec927f32b9">  523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#a9df67f0832b156ac868a5dec927f32b9">DisplayPage::show</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#ac88fd79556ef71f2a7e8832ef1526ddd">parent_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_buffer.html#a4cfbe97a77988140a91809ed721079e0">show_page</a>(<span class="keyword">this</span>); }</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#aef0241c7c56b18c5669e223ed59f421b">  524</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#aef0241c7c56b18c5669e223ed59f421b">DisplayPage::show_next</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#aa76d28c245353d1b62c2ce47789cc3b4">next_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a9df67f0832b156ac868a5dec927f32b9">show</a>(); }</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#a7c5bfc285d7479f07ef8b8ec2ea24ef2">  525</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#a7c5bfc285d7479f07ef8b8ec2ea24ef2">DisplayPage::show_prev</a>() { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#afb82f5a6b9c0036a5c77a92a08a34adf">prev_</a>-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a9df67f0832b156ac868a5dec927f32b9">show</a>(); }</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#abedb5ada8c2d0180eb816da2d7ced37d">  526</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#abedb5ada8c2d0180eb816da2d7ced37d">DisplayPage::set_parent</a>(<a class="code" href="classesphome_1_1display_1_1_display_buffer.html">DisplayBuffer</a> *parent) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#ac88fd79556ef71f2a7e8832ef1526ddd">parent_</a> = parent; }</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#afaf8eca720063752841a45b278c572a1">  527</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#afaf8eca720063752841a45b278c572a1">DisplayPage::set_prev</a>(<a class="code" href="classesphome_1_1display_1_1_display_page.html">DisplayPage</a> *prev) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#afb82f5a6b9c0036a5c77a92a08a34adf">prev_</a> = prev; }</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#a46a91264f4c0adfbbc3a02fbbc7d04ac">  528</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classesphome_1_1display_1_1_display_page.html#a46a91264f4c0adfbbc3a02fbbc7d04ac">DisplayPage::set_next</a>(<a class="code" href="classesphome_1_1display_1_1_display_page.html">DisplayPage</a> *next) { this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#aa76d28c245353d1b62c2ce47789cc3b4">next_</a> = next; }</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classesphome_1_1display_1_1_display_page.html#a47085eab824060c200d82e484b43dff0">  529</a></span>&#160;<span class="keyword">const</span> <a class="code" href="namespaceesphome_1_1display.html#ae0418d7d04b443b30f479f2483d49835">display_writer_t</a> &amp;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a47085eab824060c200d82e484b43dff0">DisplayPage::get_writer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;<a class="code" href="classesphome_1_1display_1_1_display_page.html#a375b528507a7475d2fdbd1b2a2051fc2">writer_</a>; }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}  <span class="comment">// namespace display</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;}  <span class="comment">// namespace esphome</span></div><div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a38caf7e2b5d1543c91560d68ad55aad9"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a38caf7e2b5d1543c91560d68ad55aad9">esphome::display::DisplayBuffer::printf</a></div><div class="ttdeci">void printf(int x, int y, Font *font, Color color, TextAlign align, const char *format,...) __attribute__((format(printf</div><div class="ttdoc">Evaluate the printf-format format and print the result with the anchor point at [x,y] with font. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00281">display_buffer.cpp:281</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a022b763d4f533f12dadb5273a4baf3bb"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a022b763d4f533f12dadb5273a4baf3bb">esphome::display::DisplayBuffer::strftime</a></div><div class="ttdeci">void void void void void strftime(int x, int y, Font *font, Color color, TextAlign align, const char *format, time::ESPTime time) __attribute__((format(strftime</div><div class="ttdoc">Evaluate the strftime-format format and print the result with the anchor point at [x...</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00330">display_buffer.cpp:330</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_aef0241c7c56b18c5669e223ed59f421b"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#aef0241c7c56b18c5669e223ed59f421b">esphome::display::DisplayPage::show_next</a></div><div class="ttdeci">void show_next()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00524">display_buffer.cpp:524</a></div></div>
<div class="ttc" id="classesphome_1_1_application_html_a7c47b0a327287c681724b2802bd80878"><div class="ttname"><a href="classesphome_1_1_application.html#a7c47b0a327287c681724b2802bd80878">esphome::Application::feed_wdt</a></div><div class="ttdeci">void feed_wdt()</div><div class="ttdef"><b>Definition:</b> <a href="application_8cpp_source.html#l00113">application.cpp:113</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_a1a3db4cf312efe480b61d789c2982f13"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#a1a3db4cf312efe480b61d789c2982f13">esphome::display::Animation::current_frame_</a></div><div class="ttdeci">int current_frame_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00417">display_buffer.h:417</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_ad1244e448876376ec67bf7f24e6322dd"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#ad1244e448876376ec67bf7f24e6322dd">esphome::display::Image::get_grayscale_pixel</a></div><div class="ttdeci">virtual Color get_grayscale_pixel(int x, int y) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00464">display_buffer.cpp:464</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a4cfbe97a77988140a91809ed721079e0"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a4cfbe97a77988140a91809ed721079e0">esphome::display::DisplayBuffer::show_page</a></div><div class="ttdeci">void show_page(DisplayPage *page)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00318">display_buffer.cpp:318</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a422694b33293b72cc51f8aa7dda10486"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a422694b33293b72cc51f8aa7dda10486">esphome::display::DisplayBuffer::show_next_page</a></div><div class="ttdeci">void show_next_page()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00319">display_buffer.cpp:319</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a881a1242a5c0be6cf9e28c148e6526f2"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a881a1242a5c0be6cf9e28c148e6526f2">esphome::display::DisplayBuffer::draw_absolute_pixel_internal</a></div><div class="ttdeci">virtual void draw_absolute_pixel_internal(int x, int y, Color color)=0</div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_aa76d28c245353d1b62c2ce47789cc3b4"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#aa76d28c245353d1b62c2ce47789cc3b4">esphome::display::DisplayPage::next_</a></div><div class="ttdeci">DisplayPage * next_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00336">display_buffer.h:336</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a464fdfe9cf87af530e1ff27b4e4befd5"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a464fdfe9cf87af530e1ff27b4e4befd5">esphome::display::Glyph::offset_y_</a></div><div class="ttdeci">int offset_y_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00361">display_buffer.h:361</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_font_html_af63673aee6f1c52b606f8f3672e8eecb"><div class="ttname"><a href="classesphome_1_1display_1_1_font.html#af63673aee6f1c52b606f8f3672e8eecb">esphome::display::Font::Font</a></div><div class="ttdeci">Font(std::vector&lt; Glyph &gt; &amp;&amp;glyphs, int baseline, int bottom)</div><div class="ttdoc">Construct the font with the given glyphs. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00445">display_buffer.cpp:445</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html">esphome::display::Image</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00388">display_buffer.h:388</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_aa9a4d7fdcfc6796d5e74eb70dc10b5f2"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#aa9a4d7fdcfc6796d5e74eb70dc10b5f2">esphome::display::DisplayBuffer::set_pages</a></div><div class="ttdeci">void set_pages(std::vector&lt; DisplayPage *&gt; pages)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00306">display_buffer.cpp:306</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a0931f0b89ac08d6bcd32a84d76810553a145806cba5464bb6e0a06d0c958cc8c3"><div class="ttname"><a href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a145806cba5464bb6e0a06d0c958cc8c3">esphome::display::DISPLAY_ROTATION_0_DEGREES</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00074">display_buffer.h:74</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a996a385c78da07833fb19191aaa7a880"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a996a385c78da07833fb19191aaa7a880">esphome::display::Image::Image</a></div><div class="ttdeci">Image(const uint8_t *data_start, int width, int height, ImageType type)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00474">display_buffer.cpp:474</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a7d88edc80f63a21492965b3dd46b95fe"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a7d88edc80f63a21492965b3dd46b95fe">esphome::display::Glyph::char_</a></div><div class="ttdeci">const char * char_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00358">display_buffer.h:358</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a8693606d5e74f1872f48e7481da2b268"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a8693606d5e74f1872f48e7481da2b268">esphome::display::Glyph::scan_area</a></div><div class="ttdeci">void scan_area(int *x1, int *y1, int *width, int *height) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00392">display_buffer.cpp:392</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html">esphome::display::DisplayBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00094">display_buffer.h:94</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a8a4c77d705f1e487ee919e600706b186"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a8a4c77d705f1e487ee919e600706b186">esphome::display::DisplayBuffer::filled_circle</a></div><div class="ttdeci">void filled_circle(int center_x, int center_y, int radius, Color color=COLOR_ON)</div><div class="ttdoc">Fill a circle centered around [center_x,center_y] with the radius radius with the given color...</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00132">display_buffer.cpp:132</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a836f31c9962c4fc0b71c792796fe36c9"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a836f31c9962c4fc0b71c792796fe36c9">esphome::display::DisplayBuffer::filled_rectangle</a></div><div class="ttdeci">void filled_rectangle(int x1, int y1, int width, int height, Color color=COLOR_ON)</div><div class="ttdoc">Fill a rectangle with the top left point at [x1,y1] and the bottom right point at [x1+width...</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00103">display_buffer.cpp:103</a></div></div>
<div class="ttc" id="application_8h_html"><div class="ttname"><a href="application_8h.html">application.h</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a46a91264f4c0adfbbc3a02fbbc7d04ac"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a46a91264f4c0adfbbc3a02fbbc7d04ac">esphome::display::DisplayPage::set_next</a></div><div class="ttdeci">void set_next(DisplayPage *next)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00528">display_buffer.cpp:528</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_afc1aa4eb43d58e48139537ed32e3e41f"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#afc1aa4eb43d58e48139537ed32e3e41f">esphome::display::DisplayBuffer::set_rotation</a></div><div class="ttdeci">void set_rotation(DisplayRotation rotation)</div><div class="ttdoc">Internal method to set the display rotation with. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00046">display_buffer.cpp:46</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa6705777b712ee811e76fb07162081d63"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa6705777b712ee811e76fb07162081d63">esphome::display::TextAlign::TOP</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a0931f0b89ac08d6bcd32a84d76810553a7de1175ebf0b27f45eac79cbff967c13"><div class="ttname"><a href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a7de1175ebf0b27f45eac79cbff967c13">esphome::display::DISPLAY_ROTATION_180_DEGREES</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00076">display_buffer.h:76</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a3f3d2f820a9b740d426e4146ad770d79"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a3f3d2f820a9b740d426e4146ad770d79">esphome::display::DisplayBuffer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear the entire screen by filling it with OFF pixels. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00023">display_buffer.cpp:23</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a472dfc2ec5a3f8e6d7bd2ccf92a77a15"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a472dfc2ec5a3f8e6d7bd2ccf92a77a15">esphome::display::Image::height_</a></div><div class="ttdeci">int height_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00400">display_buffer.h:400</a></div></div>
<div class="ttc" id="display__buffer_8h_html"><div class="ttname"><a href="display__buffer_8h.html">display_buffer.h</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a43fd94c00045929becb9abc262fec555"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a43fd94c00045929becb9abc262fec555">esphome::display::DisplayBuffer::writer_</a></div><div class="ttdeci">optional&lt; display_writer_t &gt; writer_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00317">display_buffer.h:317</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa385881ed58577143e69edf478122d179"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa385881ed58577143e69edf478122d179">esphome::display::TextAlign::BASELINE</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_aedbf59f83bcc6406b9ada6627e20047d"><div class="ttname"><a href="namespaceesphome_1_1display.html#aedbf59f83bcc6406b9ada6627e20047d">esphome::display::COLOR_OFF</a></div><div class="ttdeci">const Color COLOR_OFF(0, 0, 0, 0)</div><div class="ttdoc">Turn the pixel OFF. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00067">display_buffer.h:67</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_a076425c4206ebd4e68a807273041dbf9"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#a076425c4206ebd4e68a807273041dbf9">esphome::display::Animation::get_current_frame</a></div><div class="ttdeci">int get_current_frame() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00514">display_buffer.cpp:514</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace. </div></div>
<div class="ttc" id="structesphome_1_1time_1_1_e_s_p_time_html_a5f9563b1d4901166f7d6b7fca24b9fad"><div class="ttname"><a href="structesphome_1_1time_1_1_e_s_p_time.html#a5f9563b1d4901166f7d6b7fca24b9fad">esphome::time::ESPTime::strftime</a></div><div class="ttdeci">size_t strftime(char *buffer, size_t buffer_len, const char *format)</div><div class="ttdoc">Convert this ESPTime struct to a null-terminated c string buffer as specified by the format argument...</div><div class="ttdef"><b>Definition:</b> <a href="real__time__clock_8cpp_source.html#l00045">real_time_clock.cpp:45</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a28425a4bb1bfa655aef230d60f4ddb2b"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a28425a4bb1bfa655aef230d60f4ddb2b">esphome::display::Image::get_color_pixel</a></div><div class="ttdeci">virtual Color get_color_pixel(int x, int y) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00455">display_buffer.cpp:455</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_aa357fda91c3161ab1a0273f2c05068c3"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#aa357fda91c3161ab1a0273f2c05068c3">esphome::display::DisplayBuffer::get_width_internal</a></div><div class="ttdeci">virtual int get_width_internal()=0</div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_aab75f1b8289889c1162e1507567a57cd"><div class="ttname"><a href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cd">esphome::display::ImageType</a></div><div class="ttdeci">ImageType</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00071">display_buffer.h:71</a></div></div>
<div class="ttc" id="classesphome_1_1optional_html_a02ec23556961ba596fbaa57885fb6a68"><div class="ttname"><a href="classesphome_1_1optional.html#a02ec23556961ba596fbaa57885fb6a68">esphome::optional::has_value</a></div><div class="ttdeci">bool has_value() const</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00085">optional.h:85</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a4bab69ab7d713f464fd3309a0c3fd8a5"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a4bab69ab7d713f464fd3309a0c3fd8a5">esphome::display::Glyph::get_pixel</a></div><div class="ttdeci">bool get_pixel(int x, int y) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00356">display_buffer.cpp:356</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa2cc924691e026a785a32f6843aeb8fba"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa2cc924691e026a785a32f6843aeb8fba">esphome::display::TextAlign::CENTER_VERTICAL</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa8e0df4c9801cd8a497c6763895aeb1ab"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa8e0df4c9801cd8a497c6763895aeb1ab">esphome::display::TextAlign::CENTER_HORIZONTAL</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a68c410b30866f7ca270b97e0e94dda7c"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a68c410b30866f7ca270b97e0e94dda7c">esphome::display::DisplayBuffer::vprintf_</a></div><div class="ttdeci">void vprintf_(int x, int y, Font *font, Color color, TextAlign align, const char *format, va_list arg)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00201">display_buffer.cpp:201</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a14db9df9e47e9ca2d7f32929aba29332"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a14db9df9e47e9ca2d7f32929aba29332">esphome::display::Image::data_start_</a></div><div class="ttdeci">const uint8_t * data_start_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00402">display_buffer.h:402</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html">esphome::display::Glyph</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00339">display_buffer.h:339</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a79fd95c4cfd049da5312483fd66adeaf"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a79fd95c4cfd049da5312483fd66adeaf">esphome::display::DisplayBuffer::print</a></div><div class="ttdeci">void print(int x, int y, Font *font, Color color, TextAlign align, const char *text)</div><div class="ttdoc">Print text with the anchor point at [x,y] with font. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00159">display_buffer.cpp:159</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_a7925fbeab12f8c37486b6e93e5e655d1"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#a7925fbeab12f8c37486b6e93e5e655d1">esphome::display::Animation::next_frame</a></div><div class="ttdeci">void next_frame()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00515">display_buffer.cpp:515</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a47085eab824060c200d82e484b43dff0"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a47085eab824060c200d82e484b43dff0">esphome::display::DisplayPage::get_writer</a></div><div class="ttdeci">const display_writer_t &amp; get_writer() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00529">display_buffer.cpp:529</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a727a28ac513e1557dd386f2f6f173b07"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a727a28ac513e1557dd386f2f6f173b07">esphome::display::DisplayBuffer::init_internal_</a></div><div class="ttdeci">void init_internal_(uint32_t buffer_length)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00014">display_buffer.cpp:14</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_ab24771f8d105b683a0f63e1760a532f8"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#ab24771f8d105b683a0f63e1760a532f8">esphome::display::Glyph::compare_to</a></div><div class="ttdeci">bool compare_to(const char *str) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00366">display_buffer.cpp:366</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_aa5ef907fb82edb1d785691b38e3c82e6"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#aa5ef907fb82edb1d785691b38e3c82e6">esphome::display::DisplayBuffer::vertical_line</a></div><div class="ttdeci">void vertical_line(int x, int y, int height, Color color=COLOR_ON)</div><div class="ttdoc">Draw a vertical line from the point [x,y] to [x,y+width] with the given color. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00092">display_buffer.cpp:92</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a8914f316dff9c1f4caf6a167494b46fb"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a8914f316dff9c1f4caf6a167494b46fb">esphome::display::Image::get_type</a></div><div class="ttdeci">ImageType get_type() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00473">display_buffer.cpp:473</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_aafaddce23d2ffd82d2ca04ab40362f80"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#aafaddce23d2ffd82d2ca04ab40362f80">esphome::display::Animation::animation_frame_count_</a></div><div class="ttdeci">int animation_frame_count_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00418">display_buffer.h:418</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a8b0f9af57a39ef046833844fe7eb4d0e"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a8b0f9af57a39ef046833844fe7eb4d0e">esphome::display::Glyph::height_</a></div><div class="ttdeci">int height_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00363">display_buffer.h:363</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_aa6d3bcb7d1596276789f6c5214994923"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#aa6d3bcb7d1596276789f6c5214994923">esphome::display::DisplayBuffer::fill</a></div><div class="ttdeci">virtual void fill(Color color)</div><div class="ttdoc">Fill the entire screen with the given color. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00022">display_buffer.cpp:22</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_adb6cc40e475f05501b7df1478b728548"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#adb6cc40e475f05501b7df1478b728548">esphome::display::Animation::get_grayscale_pixel</a></div><div class="ttdeci">Color get_grayscale_pixel(int x, int y) const override</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00499">display_buffer.cpp:499</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463a"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463a">esphome::display::TextAlign</a></div><div class="ttdeci">TextAlign</div><div class="ttdoc">TextAlign is used to tell the display class how to position a piece of text. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00039">display_buffer.h:39</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a7c5bfc285d7479f07ef8b8ec2ea24ef2"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a7c5bfc285d7479f07ef8b8ec2ea24ef2">esphome::display::DisplayPage::show_prev</a></div><div class="ttdeci">void show_prev()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00525">display_buffer.cpp:525</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_font_html_a62e0ccc582b62d2caf887975eee3b5f7"><div class="ttname"><a href="classesphome_1_1display_1_1_font.html#a62e0ccc582b62d2caf887975eee3b5f7">esphome::display::Font::measure</a></div><div class="ttdeci">void measure(const char *str, int *width, int *x_offset, int *baseline, int *height)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00413">display_buffer.cpp:413</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a9e75ead75fe2d8f4153eca41019ebe86"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a9e75ead75fe2d8f4153eca41019ebe86">esphome::display::DisplayBuffer::line</a></div><div class="ttdeci">void line(int x1, int y1, int x2, int y2, Color color=COLOR_ON)</div><div class="ttdoc">Draw a straight line from the point [x1,y1] to [x2,y2] with the given color. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00067">display_buffer.cpp:67</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_ae95c2b212e7d868fda37ea2cdcc82e59"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#ae95c2b212e7d868fda37ea2cdcc82e59">esphome::display::Glyph::offset_x_</a></div><div class="ttdeci">int offset_x_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00360">display_buffer.h:360</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_aab75f1b8289889c1162e1507567a57cda6839716d830a99d48b4e77e593279ac6"><div class="ttname"><a href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cda6839716d830a99d48b4e77e593279ac6">esphome::display::IMAGE_TYPE_GRAYSCALE</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00071">display_buffer.h:71</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a770fe8bbc291ae2179471642a59f075b"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a770fe8bbc291ae2179471642a59f075b">esphome::display::DisplayBuffer::horizontal_line</a></div><div class="ttdeci">void horizontal_line(int x, int y, int width, Color color=COLOR_ON)</div><div class="ttdoc">Draw a horizontal line from the point [x,y] to [x+width,y] with the given color. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00087">display_buffer.cpp:87</a></div></div>
<div class="ttc" id="structesphome_1_1time_1_1_e_s_p_time_html"><div class="ttname"><a href="structesphome_1_1time_1_1_e_s_p_time.html">esphome::time::ESPTime</a></div><div class="ttdoc">A more user-friendly version of struct tm from time.h. </div><div class="ttdef"><b>Definition:</b> <a href="real__time__clock_8h_source.html#l00014">real_time_clock.h:14</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_font_html_ab598c60d247b86ccad4a19e1dd287735"><div class="ttname"><a href="classesphome_1_1display_1_1_font.html#ab598c60d247b86ccad4a19e1dd287735">esphome::display::Font::get_glyphs</a></div><div class="ttdeci">const std::vector&lt; Glyph &gt; &amp; get_glyphs() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00444">display_buffer.cpp:444</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a115b11cf778bf6257054ad55998907b7"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a115b11cf778bf6257054ad55998907b7">esphome::display::DisplayBuffer::show_prev_page</a></div><div class="ttdeci">void show_prev_page()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00320">display_buffer.cpp:320</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html">esphome::display::DisplayPage</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00321">display_buffer.h:321</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_ae472727ee739ef74b14950bef49bcdc8"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#ae472727ee739ef74b14950bef49bcdc8">esphome::display::Glyph::match_length</a></div><div class="ttdeci">int match_length(const char *str) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00382">display_buffer.cpp:382</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_a6c564316c873b6a43d91b80bb42de051"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#a6c564316c873b6a43d91b80bb42de051">esphome::display::Animation::get_color_pixel</a></div><div class="ttdeci">Color get_color_pixel(int x, int y) const override</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00487">display_buffer.cpp:487</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_font_html_a8bd913baf64802574bff53c23ef4cc75"><div class="ttname"><a href="classesphome_1_1display_1_1_font.html#a8bd913baf64802574bff53c23ef4cc75">esphome::display::Font::match_next_glyph</a></div><div class="ttdeci">int match_next_glyph(const char *str, int *match_length)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00398">display_buffer.cpp:398</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a164c294fb84b0029b4b34365287f5437"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a164c294fb84b0029b4b34365287f5437">esphome::display::DisplayBuffer::circle</a></div><div class="ttdeci">void circle(int center_x, int center_xy, int radius, Color color=COLOR_ON)</div><div class="ttdoc">Draw the outline of a circle centered around [center_x,center_y] with the radius radius with the give...</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00109">display_buffer.cpp:109</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa747385047b85ae751f83adb36435a3c1">esphome::display::TextAlign::TOP_LEFT</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_ad0f68e69526c4486dcf9f8a4e8094d90"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#ad0f68e69526c4486dcf9f8a4e8094d90">esphome::display::Animation::get_animation_frame_count</a></div><div class="ttdeci">int get_animation_frame_count() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00513">display_buffer.cpp:513</a></div></div>
<div class="ttc" id="e131__packet_8cpp_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="e131__packet_8cpp.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="e131__packet_8cpp_source.html#l00131">e131_packet.cpp:131</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a0742a6dfbb6bd2d988bc36093d19ee99"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a0742a6dfbb6bd2d988bc36093d19ee99">esphome::display::DisplayBuffer::rotation_</a></div><div class="ttdeci">DisplayRotation rotation_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00316">display_buffer.h:316</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a5f6d4d4da87f95beaa31a55c19aa3d69"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a5f6d4d4da87f95beaa31a55c19aa3d69">esphome::display::Image::width_</a></div><div class="ttdeci">int width_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00399">display_buffer.h:399</a></div></div>
<div class="ttc" id="structesphome_1_1_color_html"><div class="ttname"><a href="structesphome_1_1_color.html">esphome::Color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00010">color.h:10</a></div></div>
<div class="ttc" id="namespaceesphome_html_ad8d15dcec8541489df89d98889569511"><div class="ttname"><a href="namespaceesphome.html#ad8d15dcec8541489df89d98889569511">esphome::App</a></div><div class="ttdeci">Application App</div><div class="ttdoc">Global storage of Application pointer - only one Application can exist. </div><div class="ttdef"><b>Definition:</b> <a href="application_8cpp_source.html#l00161">application.cpp:161</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa1fabf63de5c96c78e2a40805bcdeb73b"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa1fabf63de5c96c78e2a40805bcdeb73b">esphome::display::TextAlign::BOTTOM</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_aab75f1b8289889c1162e1507567a57cdaedd6217ff4c9bcf9353549bbfccfe386"><div class="ttname"><a href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cdaedd6217ff4c9bcf9353549bbfccfe386">esphome::display::IMAGE_TYPE_RGB24</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00071">display_buffer.h:71</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a1737b2e243a4f4d88a8968601b2bd5f7"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a1737b2e243a4f4d88a8968601b2bd5f7">esphome::display::DisplayBuffer::set_writer</a></div><div class="ttdeci">void set_writer(display_writer_t &amp;&amp;writer)</div><div class="ttdoc">Internal method to set the display writer lambda. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00305">display_buffer.cpp:305</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_ad277d7ce9fd0790db1d5558b89517300"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#ad277d7ce9fd0790db1d5558b89517300">esphome::display::DisplayBuffer::image</a></div><div class="ttdeci">void void void void void void void void void image(int x, int y, Image *image, Color color_on=COLOR_ON, Color color_off=COLOR_OFF)</div><div class="ttdoc">Draw the image with the top-left corner at [x,y] to the screen. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00208">display_buffer.cpp:208</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_aab75f1b8289889c1162e1507567a57cda8174b3a39af11e7145129f60d5e98b28"><div class="ttname"><a href="namespaceesphome_1_1display.html#aab75f1b8289889c1162e1507567a57cda8174b3a39af11e7145129f60d5e98b28">esphome::display::IMAGE_TYPE_BINARY</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00071">display_buffer.h:71</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a709af7eefbd20dc81596296dcceda8f9"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a709af7eefbd20dc81596296dcceda8f9">esphome::display::Glyph::width_</a></div><div class="ttdeci">int width_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00362">display_buffer.h:362</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_ac88fd79556ef71f2a7e8832ef1526ddd"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#ac88fd79556ef71f2a7e8832ef1526ddd">esphome::display::DisplayPage::parent_</a></div><div class="ttdeci">DisplayBuffer * parent_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00333">display_buffer.h:333</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_abda8d39c97a98330350bd5191b40c723"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#abda8d39c97a98330350bd5191b40c723">esphome::display::DisplayBuffer::do_update_</a></div><div class="ttdeci">void do_update_()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00321">display_buffer.cpp:321</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a9df67f0832b156ac868a5dec927f32b9"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a9df67f0832b156ac868a5dec927f32b9">esphome::display::DisplayPage::show</a></div><div class="ttdeci">void show()</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00523">display_buffer.cpp:523</a></div></div>
<div class="ttc" id="color_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_afb82f5a6b9c0036a5c77a92a08a34adf"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#afb82f5a6b9c0036a5c77a92a08a34adf">esphome::display::DisplayPage::prev_</a></div><div class="ttdeci">DisplayPage * prev_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00335">display_buffer.h:335</a></div></div>
<div class="ttc" id="namespaceesphome_html_aa3e9d12c63f12043dfd3b2ed5acc85e0"><div class="ttname"><a href="namespaceesphome.html#aa3e9d12c63f12043dfd3b2ed5acc85e0">esphome::swap</a></div><div class="ttdeci">void swap(optional&lt; T &gt; &amp;x, optional&lt; T &gt; &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00208">optional.h:208</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a375b528507a7475d2fdbd1b2a2051fc2"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a375b528507a7475d2fdbd1b2a2051fc2">esphome::display::DisplayPage::writer_</a></div><div class="ttdeci">display_writer_t writer_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00334">display_buffer.h:334</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a0931f0b89ac08d6bcd32a84d76810553a46e1aada5195e2fcbaa646944859e0b1"><div class="ttname"><a href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a46e1aada5195e2fcbaa646944859e0b1">esphome::display::DISPLAY_ROTATION_270_DEGREES</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00077">display_buffer.h:77</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_ad5496163249030e9993e9b1cc3bdcb84"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#ad5496163249030e9993e9b1cc3bdcb84">esphome::display::Glyph::Glyph</a></div><div class="ttdeci">Glyph(const char *a_char, const uint8_t *data_start, uint32_t offset, int offset_x, int offset_y, int width, int height)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00348">display_buffer.cpp:348</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a0931f0b89ac08d6bcd32a84d76810553a84e94054a890dd2b2a4ba696e437258e"><div class="ttname"><a href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553a84e94054a890dd2b2a4ba696e437258e">esphome::display::DISPLAY_ROTATION_90_DEGREES</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00075">display_buffer.h:75</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a3b143fc3400e1ce58ebccb2920285157"><div class="ttname"><a href="namespaceesphome_1_1display.html#a3b143fc3400e1ce58ebccb2920285157">esphome::display::COLOR_ON</a></div><div class="ttdeci">const Color COLOR_ON(255, 255, 255, 255)</div><div class="ttdoc">Turn the pixel ON. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00069">display_buffer.h:69</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_font_html"><div class="ttname"><a href="classesphome_1_1display_1_1_font.html">esphome::display::Font</a></div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00366">display_buffer.h:366</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_aa743e093ab75a798a3057b48eedb8b1f"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#aa743e093ab75a798a3057b48eedb8b1f">esphome::display::DisplayBuffer::buffer_</a></div><div class="ttdeci">uint8_t * buffer_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00315">display_buffer.h:315</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_acba8cc2833aed476e8d652ab05608525"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#acba8cc2833aed476e8d652ab05608525">esphome::display::DisplayBuffer::get_height_internal</a></div><div class="ttdeci">virtual int get_height_internal()=0</div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_a0931f0b89ac08d6bcd32a84d76810553"><div class="ttname"><a href="namespaceesphome_1_1display.html#a0931f0b89ac08d6bcd32a84d76810553">esphome::display::DisplayRotation</a></div><div class="ttdeci">DisplayRotation</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00073">display_buffer.h:73</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_a6f0476fdcdf2b0880cce060604fcdf73"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#a6f0476fdcdf2b0880cce060604fcdf73">esphome::display::DisplayPage::DisplayPage</a></div><div class="ttdeci">DisplayPage(const display_writer_t &amp;writer)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00522">display_buffer.cpp:522</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_ad1b8647d831d9d69bd69ad0272bd0e8d"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#ad1b8647d831d9d69bd69ad0272bd0e8d">esphome::display::DisplayBuffer::get_text_bounds</a></div><div class="ttdeci">void get_text_bounds(int x, int y, const char *text, Font *font, TextAlign align, int *x1, int *y1, int *width, int *height)</div><div class="ttdoc">Get the text bounds of the given string. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00234">display_buffer.cpp:234</a></div></div>
<div class="ttc" id="namespaceesphome_html"><div class="ttname"><a href="namespaceesphome.html">esphome</a></div><div class="ttdoc">Library based on https://github.com/miguelbalboa/rfid and adapted to ESPHome by . ...</div><div class="ttdef"><b>Definition:</b> <a href="a4988_8cpp_source.html#l00004">a4988.cpp:4</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_a18d7afeb91a82e686519e6c767a91e27"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#a18d7afeb91a82e686519e6c767a91e27">esphome::display::Glyph::get_char</a></div><div class="ttdeci">const char * get_char() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00365">display_buffer.cpp:365</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_aea728dcd9d0400df9e639777f01a3dbf"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#aea728dcd9d0400df9e639777f01a3dbf">esphome::display::Image::get_width</a></div><div class="ttdeci">int get_width() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00471">display_buffer.cpp:471</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a8f885b81b74c97f900ceb88915d5c231"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a8f885b81b74c97f900ceb88915d5c231">esphome::display::DisplayBuffer::page_</a></div><div class="ttdeci">DisplayPage * page_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00318">display_buffer.h:318</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa21507b40c80068eda19865706fdc2403"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa21507b40c80068eda19865706fdc2403">esphome::display::TextAlign::RIGHT</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_accbc3565d06207f6b646ea75b0d7463aa684d325a7303f52e64011467ff5c5758"><div class="ttname"><a href="namespaceesphome_1_1display.html#accbc3565d06207f6b646ea75b0d7463aa684d325a7303f52e64011467ff5c5758">esphome::display::TextAlign::LEFT</a></div></div>
<div class="ttc" id="namespaceesphome_1_1display_html_ae0418d7d04b443b30f479f2483d49835"><div class="ttname"><a href="namespaceesphome_1_1display.html#ae0418d7d04b443b30f479f2483d49835">esphome::display::display_writer_t</a></div><div class="ttdeci">std::function&lt; void(DisplayBuffer &amp;)&gt; display_writer_t</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00085">display_buffer.h:85</a></div></div>
<div class="ttc" id="log_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_abedb5ada8c2d0180eb816da2d7ced37d"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#abedb5ada8c2d0180eb816da2d7ced37d">esphome::display::DisplayPage::set_parent</a></div><div class="ttdeci">void set_parent(DisplayBuffer *parent)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00526">display_buffer.cpp:526</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a4a62b512726109c9065d6be9eaa7ed8f"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a4a62b512726109c9065d6be9eaa7ed8f">esphome::display::DisplayBuffer::draw_pixel_at</a></div><div class="ttdeci">void draw_pixel_at(int x, int y, Color color=COLOR_ON)</div><div class="ttdoc">Set a single pixel at the specified coordinates to the given color. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00047">display_buffer.cpp:47</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_afd482d55d762416d64dbf46e71214398"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#afd482d55d762416d64dbf46e71214398">esphome::display::Animation::Animation</a></div><div class="ttdeci">Animation(const uint8_t *data_start, int width, int height, uint32_t animation_frame_count, ImageType type)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00509">display_buffer.cpp:509</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_abe182b0133f9c814574dc8561ef951e0"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#abe182b0133f9c814574dc8561ef951e0">esphome::display::DisplayBuffer::get_height</a></div><div class="ttdeci">int get_height()</div><div class="ttdoc">Get the height of the image in pixels with rotation applied. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00035">display_buffer.cpp:35</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a710d343524c266eff9278b382400377a"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a710d343524c266eff9278b382400377a">esphome::display::DisplayBuffer::rectangle</a></div><div class="ttdeci">void rectangle(int x1, int y1, int width, int height, Color color=COLOR_ON)</div><div class="ttdoc">Draw the outline of a rectangle with the top left point at [x1,y1] and the bottom right point at [x1+...</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00097">display_buffer.cpp:97</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_a9ed3905cb6dff8d66223642de4103cf9"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#a9ed3905cb6dff8d66223642de4103cf9">esphome::display::Image::get_pixel</a></div><div class="ttdeci">virtual bool get_pixel(int x, int y) const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00448">display_buffer.cpp:448</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_page_html_afaf8eca720063752841a45b278c572a1"><div class="ttname"><a href="classesphome_1_1display_1_1_display_page.html#afaf8eca720063752841a45b278c572a1">esphome::display::DisplayPage::set_prev</a></div><div class="ttdeci">void set_prev(DisplayPage *prev)</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00527">display_buffer.cpp:527</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_display_buffer_html_a57b48b5c80a964dcf34e9571ae08a3b3"><div class="ttname"><a href="classesphome_1_1display_1_1_display_buffer.html#a57b48b5c80a964dcf34e9571ae08a3b3">esphome::display::DisplayBuffer::get_width</a></div><div class="ttdeci">int get_width()</div><div class="ttdoc">Get the width of the image in pixels with rotation applied. </div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00024">display_buffer.cpp:24</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_image_html_aa5c4c666f21614c736f3d31721c7a104"><div class="ttname"><a href="classesphome_1_1display_1_1_image.html#aa5c4c666f21614c736f3d31721c7a104">esphome::display::Image::get_height</a></div><div class="ttdeci">int get_height() const</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00472">display_buffer.cpp:472</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_animation_html_a158bdf3ba57ec62378f44c7a2cc696e3"><div class="ttname"><a href="classesphome_1_1display_1_1_animation.html#a158bdf3ba57ec62378f44c7a2cc696e3">esphome::display::Animation::get_pixel</a></div><div class="ttdeci">bool get_pixel(int x, int y) const override</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8cpp_source.html#l00477">display_buffer.cpp:477</a></div></div>
<div class="ttc" id="classesphome_1_1display_1_1_glyph_html_af75492a84b55ab6e29d7d873b04d4355"><div class="ttname"><a href="classesphome_1_1display_1_1_glyph.html#af75492a84b55ab6e29d7d873b04d4355">esphome::display::Glyph::data_</a></div><div class="ttdeci">const uint8_t * data_</div><div class="ttdef"><b>Definition:</b> <a href="display__buffer_8h_source.html#l00359">display_buffer.h:359</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>

<!-- Mirrored from esphome.io/api/display__buffer_8cpp_source.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 May 2021 03:31:20 GMT -->
</html>
