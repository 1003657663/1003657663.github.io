
  <!DOCTYPE html>


<html lang="en">
  
<!-- Mirrored from esphome.io/guides/getting_started_hassio.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 May 2021 02:58:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta name="description" content="Getting Started guide for installing ESPHome as a Home Assistant add-on and creating a basic configuration.">
<meta itemprop="name" content="Getting Started with ESPHome and Home Assistant">
<meta itemprop="description" content="Getting Started guide for installing ESPHome as a Home Assistant add-on and creating a basic configuration.">
<meta itemprop="image" content="../_images/home-assistant.png">
<meta name="twitter:title" content="Getting Started with ESPHome and Home Assistant">
<meta name="twitter:image:src" content="../_images/home-assistant.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@OttoWinter_">
<meta name="twitter:description" content="Getting Started guide for installing ESPHome as a Home Assistant add-on and creating a basic configuration.">
<meta property="og:title" content="Getting Started with ESPHome and Home Assistant">
<meta property="og:image" content="../_images/home-assistant.png">
<meta property="og:type" content="website">
<meta property="og:description" content="Getting Started guide for installing ESPHome as a Home Assistant add-on and creating a basic configuration.">

    <title>Getting Started with ESPHome and Home Assistant &#8212; ESPHome</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="getting_started_hassio.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Migrating from ESPEasy" href="migrate_espeasy.html" />
    <link rel="prev" title="Getting Started with ESPHome" href="getting_started_command_line.html" />
  <link rel="stylesheet" href="../_static/customf001.css?hash=f908c2b5" type="text/css" />
  <link rel="apple-touch-icon" sizes="180x180" href="../_static/apple-touch-icon.png">
  <link rel="shortcut icon" href="../_static/favicon.ico">
  <link rel="icon" type="image/png" sizes="512x512" href="../_static/favicon-512x512.png">
  <link rel="icon" type="image/png" sizes="256x256" href="../_static/favicon-256x256.png">
  <link rel="icon" type="image/png" sizes="192x192" href="../_static/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="128x128" href="../_static/favicon-128x128.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../_static/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../_static/favicon-16x16.png">
  <link rel="manifest" href="../_static/site.webmanifest">
  <link rel="mask-icon" href="../_static/safari-pinned-tab.svg" color="#646464">
  <meta name="apple-mobile-web-app-title" content="ESPHome">
  <meta name="application-name" content="ESPHome">
  <meta name="msapplication-TileColor" content="#dfdfdf">
  <meta name="msapplication-config" content="/_static/browserconfig.xml">
  <meta name="theme-color" content="#dfdfdf">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta property="og:site_name" content="ESPHome">
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index-2.html">
              <img class="logo" src="../_static/logo-text.svg" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="https://esphome.io/search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h3><a href="../index-2.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting Started with ESPHome and Home Assistant</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#dashboard-interface">Dashboard Interface</a></li>
<li><a class="reference internal" href="#adding-some-basic-features">Adding some (basic) features</a></li>
<li><a class="reference internal" href="#connecting-your-device-to-home-assistant">Connecting your device to Home Assistant</a></li>
<li><a class="reference internal" href="#adding-a-binary-sensor">Adding A Binary Sensor</a></li>
<li><a class="reference internal" href="#where-to-go-next">Where To Go Next</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="getting-started-with-esphome-and-home-assistant">
<h1>Getting Started with ESPHome and Home Assistant<a class="headerlink" href="#getting-started-with-esphome-and-home-assistant" title="Permalink to this headline">¬∂</a></h1>
<p>ESPHome is the perfect solution for creating custom firmware for
your ESP8266/ESP32 boards. In this guide we‚Äôll go through how to setup a
basic ‚Äúnode‚Äù by use of the Home Assistant add-on.</p>
<p>But first, here‚Äôs a very quick introduction to how ESPHome works:
ESPHome is a <em>tool</em> which reads in a YAML configuration file (just like Home Assistant)
and creates a custom firmware binary. The tool also has many helpers that simplify flashing devices (uploading the new binary file)
and aim to make managing your ESP boards as simple as possible. Once you have added devices
or sensors in ESPHome‚Äôs configuration, they will even automatically show up in Home
Assistant‚Äôs UI.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¬∂</a></h2>
<p>Installing the ESPHome Home Assistant add-on is easy. Navigate to the Supervisor
panel in your Home Assistant frontend, then enter <code class="docutils literal notranslate"><span class="pre">ESPHome</span></code> in the searchbar of the ‚ÄúAdd-on Store‚Äù
tab.</p>
<figure class="align-default">
<img alt="../_images/hassio_repo.png" src="../_images/hassio_repo.png" />
</figure>
<p>Click on ESPHome, then INSTALL.</p>
<figure class="align-default">
<img alt="../_images/hassio_addons_section.png" src="../_images/hassio_addons_section.png" />
</figure>
<p>After that, wait a bit until the add-on is installed (this can take a while) and
go to the add-on page. Start the add-on and then click ‚ÄúOpen Web UI‚Äù. If you see ‚Äú502: Bad Gateway‚Äù the
addon is currently starting, and you can refresh the page after a couple of seconds.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/hassio_addon.png"><img alt="../_images/hassio_addon.png" src="../_images/hassio_addon.png" style="width: 75.0%;" /></a>
</figure>
<p>You should now be greeted by a nice introduction wizard which will step you through
creating your first configuration.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/hassio_start.png"><img alt="../_images/hassio_start.png" src="../_images/hassio_start.png" style="width: 95.0%;" /></a>
</figure>
</section>
<section id="dashboard-interface">
<h2>Dashboard Interface<a class="headerlink" href="#dashboard-interface" title="Permalink to this headline">¬∂</a></h2>
<p>Assuming you created your first configuration file with the wizard, let‚Äôs take a quick
tour of the ESPHome dashboard interface.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/dashboard.png"><img alt="../_images/dashboard.png" src="../_images/dashboard.png" style="width: 95.0%;" /></a>
</figure>
<p>On the front page you will see all configurations for nodes you created. For each file,
there are three basic actions you can perform:</p>
<ul>
<li><p><strong>UPLOAD</strong>: This compiles the firmware for your node and uploads it using any connected
USB device or, if no USB devices are connected, over-the-air using the <a class="reference internal" href="../components/ota.html"><span class="doc">OTA Update Component</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Home Assistant add-on is currently not capable of discovering new USB ports after the
add-on has started due to some docker restrictions. Please go to the add-on details page
and restart the add-on if a new USB device is not automatically found. If the USB device
is still not found, try changing the USB cable and restarting the add-on.</p>
</div>
</li>
<li><p><strong>SHOW LOGS</strong>: With this command you can view all the logs the node is outputting. If a USB device is
connected, it will attempt to use the serial connection. Otherwise it will use the built-in OTA logs.</p></li>
<li><p><strong>COMPILE</strong>: This command compiles the firmware and gives you the option of downloading the generated
binary so that you can upload it yourself from your computer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you‚Äôre having problems with flashing over USB, you can always download the firmware using the
<code class="docutils literal notranslate"><span class="pre">COMPILE</span></code> button and flash the firmware using <a class="reference internal" href="faq.html#esphome-flasher"><span class="std std-ref">ESPHome-flasher</span></a>.</p>
</div>
</li>
</ul>
<p>The configuration files for ESPHome can be found and edited under <code class="docutils literal notranslate"><span class="pre">&lt;HOME_ASSISTANT_CONFIG&gt;/esphome/</span></code>.
For example the configuration for the node in the picture above can be found
in <code class="docutils literal notranslate"><span class="pre">/config/esphome/livingroom.yaml</span></code>.</p>
<p>Now go ahead and use one of the <a class="reference internal" href="../index-2.html#devices"><span class="std std-ref">devices guides</span></a> to extend your configuration for the device you
intend to flash an ESPHome firmware onto. Then proceed with uploading the first firmware using the
upload button.</p>
</section>
<section id="adding-some-basic-features">
<h2>Adding some (basic) features<a class="headerlink" href="#adding-some-basic-features" title="Permalink to this headline">¬∂</a></h2>
<p>So now you should have a file called <code class="docutils literal notranslate"><span class="pre">/config/esphome/livingroom.yaml</span></code> (or similar).
Go open that file (in any text editor) and add a <a class="reference internal" href="../components/switch/gpio.html"><span class="doc">simple GPIO switch</span></a>
to the configuration like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">switch</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">platform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gpio</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;Living</span><span class="nv"> </span><span class="s">Room</span><span class="nv"> </span><span class="s">Dehumidifier&quot;</span>
    <span class="nt">pin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
<p>In above example, we‚Äôre simply adding a switch that‚Äôs called ‚ÄúLiving Room Dehumidifier‚Äù (could control
anything really, for example lights) and is connected to the pin <code class="docutils literal notranslate"><span class="pre">GPIO5</span></code>.</p>
</section>
<section id="connecting-your-device-to-home-assistant">
<h2>Connecting your device to Home Assistant<a class="headerlink" href="#connecting-your-device-to-home-assistant" title="Permalink to this headline">¬∂</a></h2>
<p>Now when you go to the Home Assistant ‚ÄúIntegrations‚Äù screen (under ‚ÄúConfiguration‚Äù panel), you
should see the ESPHome device show up in the discovered section (although this can take up to 5 minutes).
Alternatively, you can manually add the device by clicking ‚ÄúCONFIGURE‚Äù on the ESPHome integration
and entering ‚Äú&lt;NODE_NAME&gt;.local‚Äù as the host.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gpio-ui.png"><img alt="../_images/gpio-ui.png" src="../_images/gpio-ui.png" style="width: 75.0%;" /></a>
</figure>
<p>After the first upload, you will probably never need to use the USB
cable again, as all features of ESPHome are enabled remotely as well.
No more opening hidden boxes stowed in places hard to reach. Yay!</p>
</section>
<section id="adding-a-binary-sensor">
<h2>Adding A Binary Sensor<a class="headerlink" href="#adding-a-binary-sensor" title="Permalink to this headline">¬∂</a></h2>
<p>Next, we‚Äôre going to add a very simple binary sensor that periodically
checks a GPIO pin to see whether it‚Äôs pulled high or low - the <a class="reference internal" href="../components/binary_sensor/gpio.html"><span class="doc">GPIO Binary
Sensor</span></a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">binary_sensor</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">platform</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gpio</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;Living</span><span class="nv"> </span><span class="s">Room</span><span class="nv"> </span><span class="s">Window&quot;</span>
    <span class="nt">pin</span><span class="p">:</span>
      <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">16</span>
      <span class="nt">inverted</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
      <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">INPUT_PULLUP</span>
</pre></div>
</div>
<p>This is an advanced feature of ESPHome, almost all pins can
optionally have a more complicated configuration schema with options for
inversion and pinMode - the <a class="reference internal" href="configuration-types.html#config-pin-schema"><span class="std std-ref">Pin Schema</span></a>.</p>
<p>This time when uploading, you don‚Äôt need to have the device plugged in
through USB again. The upload will magically happen <a class="reference internal" href="../components/ota.html"><span class="doc">‚Äúover the air‚Äù</span></a>.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gpio-ui1.png"><img alt="../_images/gpio-ui1.png" src="../_images/gpio-ui1.png" style="width: 75.0%;" /></a>
</figure>
</section>
<section id="where-to-go-next">
<h2>Where To Go Next<a class="headerlink" href="#where-to-go-next" title="Permalink to this headline">¬∂</a></h2>
<p>Great üéâ! You‚Äôve now successfully setup your first ESPHome project
and uploaded your first ESPHome custom firmware to your node. You‚Äôve
also learned how to enable some basic components via the configuration
file.</p>
<p>So now is a great time to go take a look at the <a class="reference internal" href="../index-2.html"><span class="doc">Components Index</span></a>.
Hopefully you‚Äôll find all sensors/outputs/‚Ä¶ you‚Äôll need in there. If you‚Äôre having any problems or
want new features, please either create a new issue on the <a class="reference external" href="https://github.com/esphome/issues/issues">GitHub issue
tracker</a> or find us on the
<a class="reference external" href="https://discord.gg/KhAMKrd">Discord chat</a> (also make sure to read the <a class="reference internal" href="faq.html"><span class="doc">FAQ</span></a>).</p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¬∂</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../index-2.html"><span class="doc">ESPHome index</span></a></p></li>
<li><p><a class="reference internal" href="getting_started_command_line.html"><span class="doc">Getting Started with ESPHome</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/esphome/esphome-docs/blob/current/guides/getting_started_hassio.rst">Edit this page on GitHub</a></p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
  <div id="upgrade-footer">
    A new version has been release since you last visited this page: 1.17.2 üéâ
    <div class="footer-button-container">
      <div role="button" id="upgrade-footer-dismiss" class="footer-button">Dismiss</div>
      <a id="upgrade-footer-changelog" class="footer-button" href="../changelog/v1.17.0.html">View Changelog</a>  
    </div>
  </div>
  <script>
    var old = window.localStorage.getItem("version");
    if (old === null) { window.localStorage.setItem("version", "1.17");
    } else if (old !== "1.17") {
      const footerEl = document.getElementById("upgrade-footer");
      footerEl.classList.add("not-hidden");
      footerEl.addEventListener('click', function () {
        window.localStorage.setItem("version", "1.17");
        footerEl.classList.remove("not-hidden");
      });
    }
  </script>

  </body>

<!-- Mirrored from esphome.io/guides/getting_started_hassio.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 May 2021 02:58:23 GMT -->
</html>